<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WCCCF UNIBEN UBTH CHAPTER</title>
    <link rel="stylesheet" href="style.css"> <!-- Link to the external CSS file -->
</head>
<body>
    <div class="header" id="header">
    <div class="background"></div>
    <h1>Messages</h1>
    
    <hr>
    <input type="text" id="searchInput" placeholder="Search by message title or minister name" oninput="filterAudios()">
    </div>

    <div class="body">
        <div id="audioInfo" class="audio-info">
            <p id="selectedSongTitle"></p>
            <p id="selectedArtist"></p>
        </div>
        <div id="audioOptions" class="audio-options">
            
        </div>
    </div>
<div class="audioPlayer">
      <audio id="audioPlayer" controls></audio>  

</div>

    
    <script>

// The date format used in the JavaScript Date constructor and many date-related operations is in the form of "year, month, day." The month is represented by a zero-based index, meaning January is 0, February is 1, and so on.

// In your audioData array, the dateReleased property appears to be in the format "YYYY-MM-DD," which is a common format for representing dates. So, for example, "2022-01-15" represents January 15, 2022.

        const audioData = [
            {
                title: "Abundantly Able God",
                artist: "Pastor Obinna",
                dateReleased: "2023-01-03",
                url: "https://drive.google.com/uc?export=download&id=1J9d9BM6lA04ZB_VX9mibHi_b_4JO7SAJ"
            }, 
            {
                title: "Works of the Flesh",
                artist: "Sis Kosi",
                dateReleased: "2023-02-01",
                url: "https://drive.google.com/uc?export=download&id=1J9d9BM6lA04ZB_VX9mibHi_b_4JO7SAJ"
            }, 
            {
                title: "A Semester of Jubilation, Restoration and Praise.",
                artist: "Pastor Obed",
                dateReleased: "2024-01-10",
                url: "https://drive.google.com/uc?export=download&id=1J9d9BM6lA04ZB_VX9mibHi_b_4JO7SAJ"
            }, 
            {
                title: "The Children of men and the Love of Christ",
                artist: "Mama Esther",
                dateReleased: "2023-04-03",
                url: "https://drive.google.com/uc?export=download&id=1J9d9BM6lA04ZB_VX9mibHi_b_4JO7SAJ"
            }, 
            {
                title: "For God so Loved the World",
                artist: "Mama Ruth",
                dateReleased: "2023-05-28",
                url: "https://drive.google.com/uc?export=download&id=1J9d9BM6lA04ZB_VX9mibHi_b_4JO7SAJ"
            }, 
            {
                title: "The Prayer Altar and the Christain Life",
                artist: "Sis Victory Imhoitske",
                dateReleased: "2023-03-10",
                url: "https://drive.google.com/uc?export=download&id=1J9d9BM6lA04ZB_VX9mibHi_b_4JO7SAJ"
            }, 
             
        ];

 
        const audioOptionsDiv = document.getElementById('audioOptions');
        const searchInput = document.getElementById('searchInput');

        // Sort audioData by date in descending order
        audioData.sort((a, b) => new Date(b.dateReleased) - new Date(a.dateReleased));

        // Populate the div with audio titles, artists, and dateReleased
        audioData.forEach(audio => {
            const optionText = `${audio.title} - ${audio.artist} (${audio.dateReleased})`;
            const audioOptionDiv = document.createElement('div');
            audioOptionDiv.className = 'audio-option';
            audioOptionDiv.textContent = optionText;
            audioOptionDiv.onclick = function () {
                playAudio(audio);
            };
            audioOptionsDiv.appendChild(audioOptionDiv);
        });
  
         function filterAudios() {
    const audioOptionsDiv = document.getElementById('audioOptions');
    const searchInput = document.getElementById('searchInput').value.toLowerCase();

    // Remove all existing audio options
    audioOptionsDiv.innerHTML = '';

    // Filter and add options based on the case-insensitive search input
    const matchingAudios = audioData.filter(audio => {
        const title = audio.title.toLowerCase();
        const artist = audio.artist.toLowerCase();
        return title.includes(searchInput) || artist.includes(searchInput);
    });

    if (matchingAudios.length > 0) {
        matchingAudios.forEach(audio => {
            const optionText = `${audio.title} - ${audio.artist} (${audio.dateReleased})`;
            const audioOptionDiv = document.createElement('div');
            audioOptionDiv.className = 'audio-option';
            audioOptionDiv.textContent = optionText;
            audioOptionDiv.onclick = function () {
                playAudio(audio);
            };
            audioOptionsDiv.appendChild(audioOptionDiv);
        });
    } else {
        // Display a message when no matches are found
        const noMatchMessage = document.createElement('div');
        noMatchMessage.className = 'no-match-message';
        noMatchMessage.textContent = 'No matching audio found.';
        audioOptionsDiv.appendChild(noMatchMessage);
    }
}

function playAudio(selectedAudio) {
    const audioPlayer = document.getElementById('audioPlayer');
    const selectedSongTitle = document.getElementById('selectedSongTitle');
    const selectedArtist = document.getElementById('selectedArtist');
    const audioInfo = document.getElementById('audioInfo');
    audioPlayer.src = selectedAudio.url;
    audioInfo.style.backgroundColor = '#74a4cb';
    audioInfo.style.padding = "0.5rem";
    audioInfo.style.width = "100%";
    // Update the information in the container
    selectedSongTitle.innerHTML = `<div style = "margin:0.3rem; font-weight:bold; ">NOW PLAYING</div> <p>TITLE: ${selectedAudio.title}</p>`
    selectedArtist.textContent = `MINNISTER: ${selectedAudio.artist}`;
 

    // Start playing the audio
    audioPlayer.play();
}
    </script>
</body>
</html>
